/*
 *
 *  Define color schemes
 *
 */
  
var scheme_01 = {
	'navigation_color'	: '#c70000',
	'body_color'		: '#fbfbfb',
	'body_link_color'	: '#013c84',
	'footer_1_color'	: '#e4e4e4',
	'footer_2_color'	: '#c4c4c4',
	'footer_3_color'	: '#a3a3a3'
};
var scheme_02 = {
	'navigation_color'	: '#0079ad',
	'body_color'		: '#fbfbfb',
	'body_link_color'	: '#0079ad',
	'footer_1_color'	: '#e4e4e4',
	'footer_2_color'	: '#c4c4c4',
	'footer_3_color'	: '#a3a3a3'
};
var scheme_03 = {
	'navigation_color'	: '#00176b',
	'body_color'		: '#fbfbfb',
	'body_link_color'	: '#00176b',
	'footer_1_color'	: '#e4e4e4',
	'footer_2_color'	: '#c4c4c4',
	'footer_3_color'	: '#a3a3a3'
};
var scheme_04 = {
	'navigation_color'	: '#015e00',
	'body_color'		: '#fbfbfb',
	'body_link_color'	: '#015e00',
	'footer_1_color'	: '#e4e4e4',
	'footer_2_color'	: '#c4c4c4',
	'footer_3_color'	: '#a3a3a3'
};
var scheme_05 = {
	'navigation_color'	: '#f461e8',
	'body_color'		: '#fbfbfb',
	'body_link_color'	: '#823789',
	'footer_1_color'	: '#e4e4e4',
	'footer_2_color'	: '#c4c4c4',
	'footer_3_color'	: '#a3a3a3'
};
var scheme_06 = {
	'navigation_color'	: '#e41b61',
	'body_color'		: '#ddd5a6',
	'body_link_color'	: '#af084b',
	'footer_1_color'	: '#619591',
	'footer_2_color'	: '#459b9e',
	'footer_3_color'	: '#00a2ad'
};
var scheme_07 = {
	'navigation_color'	: '#fa6900',
	'body_color'		: '#e0e4cc',
	'body_link_color'	: '#d15300',
	'footer_1_color'	: '#a7dbd8',
	'footer_2_color'	: '#8cd4dd',
	'footer_3_color'	: '#69d2e7'
};
var scheme_08 = {
	'navigation_color'	: '#53777a',
	'body_color'		: '#ecd078',
	'body_link_color'	: '#53777a',
	'footer_1_color'	: '#d95b43',
	'footer_2_color'	: '#c02942',
	'footer_3_color'	: '#542437'
};
var scheme_09 = {
	'navigation_color'	: '#fe4365',
	'body_color'		: '#f9e4d4',
	'body_link_color'	: '#fe4365',
	'footer_1_color'	: '#c8c8a9',
	'footer_2_color'	: '#a5baa1',
	'footer_3_color'	: '#83ae9a'
};
var scheme_10 = {
	'navigation_color'	: '#0b486b',
	'body_color'		: '#e8ffd1',
	'body_link_color'	: '#0b486b',
	'footer_1_color'	: '#a8dba8',
	'footer_2_color'	: '#79bd9a',
	'footer_3_color'	: '#3b8686'
};
var scheme_11 = {
	'navigation_color'	: '#031634',
	'body_color'		: '#e8ddcb',
	'body_link_color'	: '#031634',
	'footer_1_color'	: '#cdb380',
	'footer_2_color'	: '#036564',
	'footer_3_color'	: '#033649'
};
var scheme_12 = {
	'navigation_color'	: '#65f400',
	'body_color'		: '#262626',
	'body_link_color'	: '#53ad00',
	'footer_1_color'	: '#ffffff',
	'footer_2_color'	: '#e4e4e4',
	'footer_3_color'	: '#c4c4c4'
};
var scheme_13 = {
	'navigation_color'	: '#304d63',
	'body_color'		: '#000000',
	'body_link_color'	: '#bcd1ff',
	'footer_1_color'	: '#122435',
	'footer_2_color'	: '#1e364c',
	'footer_3_color'	: '#304d63'
};
var scheme_14 = {
	'navigation_color'	: '#4a83ce',
	'body_color'		: '#fcf7e8',
	'body_link_color'	: '#4a83ce',
	'footer_1_color'	: '#ffffdd',
	'footer_2_color'	: '#f7efd7',
	'footer_3_color'	: '#f0e8ab'
};
var scheme_15 = {
	'navigation_color'	: '#5c7282',
	'body_color'		: '#e7e4d1',
	'body_link_color'	: '#5c7282',
	'footer_1_color'	: '#ead26e',
	'footer_2_color'	: '#edae66',
	'footer_3_color'	: '#b9a783'
};
var scheme_16 = {
	'navigation_color'	: '#acc319',
	'body_color'		: '#f9ffff',
	'body_link_color'	: '#e00259',
	'footer_1_color'	: '#610017',
	'footer_2_color'	: '#330010',
	'footer_3_color'	: '#000000'
};
var scheme_17 = {
	'navigation_color'	: '#ffffff',
	'body_color'		: '#000000',
	'body_link_color'	: '#e00259',
	'footer_1_color'	: '#610017',
	'footer_2_color'	: '#471019',
	'footer_3_color'	: '#330010'
};
var scheme_18 = {
	'navigation_color'	: '#2e2633',
	'body_color'		: '#efffcd',
	'body_link_color'	: '#87b500',
	'footer_1_color'	: '#555152',
	'footer_2_color'	: '#403b42',
	'footer_3_color'	: '#2e2633'
};
var scheme_19 = {
	'navigation_color'	: '#1c140d',
	'body_color'		: '#ffffff',
	'body_link_color'	: '#1c140d',
	'footer_1_color'	: '#cbe86b',
	'footer_2_color'	: '#bed361',
	'footer_3_color'	: '#aec159'
};
var scheme_20 = {
	'navigation_color'	: '#300018',
	'body_color'		: '#e5edb8',
	'body_link_color'	: '#300018',
	'footer_1_color'	: '#adb85f',
	'footer_2_color'	: '#837b47',
	'footer_3_color'	: '#5a3d31'
};
var scheme_21 = {
	'navigation_color'	: '#343838',
	'body_color'		: '#ffffff',
	'body_link_color'	: '#343838',
	'footer_1_color'	: '#00b4cc',
	'footer_2_color'	: '#008c9e',
	'footer_3_color'	: '#005f6b'
};
var scheme_22 = {
	'navigation_color'	: '#9aa87c',
	'body_color'		: '#ffffff',
	'body_link_color'	: '#9aa87c',
	'footer_1_color'	: '#94c7b6',
	'footer_2_color'	: '#403b33',
	'footer_3_color'	: '#d3643b'
};
var scheme_23 = {
	'navigation_color'	: '#3e4147',
	'body_color'		: '#fffedf',
	'body_link_color'	: '#ad6e5b',
	'footer_1_color'	: '#dfba69',
	'footer_2_color'	: '#5a2e2e',
	'footer_3_color'	: '#2a2c31'
};
var scheme_24 = {
	'navigation_color'	: '#00b4ff',
	'body_color'		: '#ffffff',
	'body_link_color'	: '#00b4ff',
	'footer_1_color'	: '#3a3a3a',
	'footer_2_color'	: '#161616',
	'footer_3_color'	: '#000000'
};
var scheme_25 = {
	'navigation_color'	: '#68462b',
	'body_color'		: '#e9e0d1',
	'body_link_color'	: '#68462b',
	'footer_1_color'	: '#91a398',
	'footer_2_color'	: '#33605a',
	'footer_3_color'	: '#000000'
};
var scheme_26 = {
	'navigation_color'	: '#951f2b',
	'body_color'		: '#f5f4d7',
	'body_link_color'	: '#951f2b',
	'footer_1_color'	: '#e0dfb1',
	'footer_2_color'	: '#a5a36c',
	'footer_3_color'	: '#535233'
};
var scheme_27 = {
	'navigation_color'	: '#eb9605',
	'body_color'		: '#261c21',
	'body_link_color'	: '#eb9605',
	'footer_1_color'	: '#de4126',
	'footer_2_color'	: '#b0254f',
	'footer_3_color'	: '#6e1e62'
};
var scheme_28 = {
	'navigation_color'	: '#e2cb92',
	'body_color'		: '#312c20',
	'body_link_color'	: '#e2cb92',
	'footer_1_color'	: '#494d4b',
	'footer_2_color'	: '#7c7052',
	'footer_3_color'	: '#b3a176'
};

( function( $ ) {
	/*
	 *  Show/Hide Header Logo, Header Banner controls
	 *  according to Header Style control
	 */
	 if($("[data-customize-setting-link='header_style']:checked").val() == "logo"){
		$("#customize-control-header_banner").hide();
	} else {
		$("#customize-control-header_logo").hide();
	}
	$("[data-customize-setting-link='header_style']").on("change", function(event){
		if($("[data-customize-setting-link='header_style']:checked").val() == "logo"){
			$("#customize-control-header_logo").show();
			$("#customize-control-header_banner").hide();
		} else {
			$("#customize-control-header_logo").hide();
			$("#customize-control-header_banner").show();
		}
	});
	
	/*
	 *  Change color scheme
	 */
	$("[data-customize-setting-link='color_scheme']").on("change", function(event){
		$("[data-customize-setting-link='advanced_color']").attr('checked', false);
		$("[data-customize-setting-link='custom_color']").attr("checked", false);
		$("[data-customize-setting-link='custom_color']").change();
		hide_stuff('hide', custom_color_section, "section");
		hide_stuff('hide', advanced_color_sections, "section");
		change_colors(window[$("[data-customize-setting-link='color_scheme']").val()]);
	});

	/*
	 *  Show/Hide Step 2: Custom Colors
	 */
	var custom_color_section = {
		'an-basic-colors': 0
	}
	if($("[data-customize-setting-link='custom_color']").attr('checked') != 'checked') {
		hide_stuff('hide', custom_color_section, "section");
	};
	$("[data-customize-setting-link='custom_color']").on("change", function(event){
		if($("[data-customize-setting-link='custom_color']").attr('checked') == 'checked'){
			hide_stuff('show', custom_color_section, "section");
		} else {
			hide_stuff('hide', custom_color_section, "section");
			hide_stuff('hide', advanced_color_sections, "section");
			$("[data-customize-setting-link='advanced_color']").attr('checked', false);
			$("[data-customize-setting-link='advanced_color']").change();
		}
	});
	
	/*
	 *  Show/Hide Advanced Colors
	 */
	var advanced_color_sections = {
		'an-advanced-colors-menu': 0,
		'an-advanced-colors-body': 0,
		'an-advanced-colors-breadcrumb': 0,
		'an-advanced-colors-footer-1': 0,
		'an-advanced-colors-footer-2': 0,
		'an-advanced-colors-footer-3': 0,
	}
	var colors;
	$("[data-customize-setting-link='advanced_color']").ready(function(){
		if($("[data-customize-setting-link='advanced_color']").attr('checked') != 'checked') {
			hide_stuff('hide', advanced_color_sections, "section");
		};
	});
	$("[data-customize-setting-link='advanced_color']").on("change", function(event){
		if($("[data-customize-setting-link='advanced_color']").attr('checked') == 'checked'){
			colors = {
				'navigation_gradient_start':
					shift_luminance($("#customize-control-navigation_color .color-picker-hex").wpColorPicker("color"),30,'lighter'),
				'navigation_gradient_end':
					$("#customize-control-navigation_color .color-picker-hex").wpColorPicker("color"),
				'navigation_drop':
					shift_luminance($("#customize-control-navigation_color .color-picker-hex").wpColorPicker("color"),15,'darker'),
				'navigation_text':
					shift_luminance($("#customize-control-navigation_color .color-picker-hex").wpColorPicker("color"),55,'high_contrast'),
				'navigation_text_hover':
					shift_luminance($("#customize-control-navigation_color .color-picker-hex").wpColorPicker("color"),95,'high_contrast'),
				'body_background_color':
					$("#customize-control-body_color .color-picker-hex").wpColorPicker("color"),
				'body_text_color':
					shift_luminance($("#customize-control-body_color .color-picker-hex").wpColorPicker("color"),50,'high_contrast'),
				'body_link_advanced_color':
					$("#customize-control-body_link_color .color-picker-hex").wpColorPicker("color"),
				'body_headline_1_color':
					shift_luminance($("#customize-control-body_color .color-picker-hex").wpColorPicker("color"),45,'high_contrast'),
				'body_headline_2_color':
					shift_luminance($("#customize-control-body_color .color-picker-hex").wpColorPicker("color"),50,'high_contrast'),
				'body_table_header_color':
					shift_luminance($("#customize-control-body_color .color-picker-hex").wpColorPicker("color"),45,'high_contrast'),
				'body_table_alternating_color':
					shift_luminance($("#customize-control-body_color .color-picker-hex").wpColorPicker("color"),10,'high_contrast'),
				'body_search_background_color':
					shift_luminance($("#customize-control-body_color .color-picker-hex").wpColorPicker("color"),10,'high_contrast'),
				'body_search_button_color':
					shift_luminance($("#customize-control-body_color .color-picker-hex").wpColorPicker("color"),20,'high_contrast'),
				'body_line_color':
					shift_luminance($("#customize-control-body_color .color-picker-hex").wpColorPicker("color"),20,'high_contrast'),
				'breadcrumb_text_color':
					shift_luminance($("#customize-control-body_color .color-picker-hex").wpColorPicker("color"),45,'high_contrast'),
				'breadcrumb_trail_color':
					shift_luminance($("#customize-control-body_color .color-picker-hex").wpColorPicker("color"),20,'high_contrast'),
				'breadcrumb_line_color':
					shift_luminance($("#customize-control-body_color .color-picker-hex").wpColorPicker("color"),20,'high_contrast'),
				'breadcrumb_highlight_color':
					shift_luminance($("#customize-control-body_color .color-picker-hex").wpColorPicker("color"),5,'high_contrast'),
				'footer_1_background_color':
					$("#customize-control-footer_1_color .color-picker-hex").wpColorPicker("color"),
				'footer_1_text_color':
					shift_luminance($("#customize-control-footer_1_color .color-picker-hex").wpColorPicker("color"),35,'high_contrast'),
				'footer_1_headline_color':
					shift_luminance($("#customize-control-footer_1_color .color-picker-hex").wpColorPicker("color"),45,'high_contrast'),
				'footer_1_advanced_link_color':
					$("#customize-control-body_link_color .color-picker-hex").wpColorPicker("color"),
				'footer_2_background_color':
					$("#customize-control-footer_2_color .color-picker-hex").wpColorPicker("color"),
				'footer_2_text_color':
					shift_luminance($("#customize-control-footer_2_color .color-picker-hex").wpColorPicker("color"),35,'high_contrast'),
				'footer_2_headline_color':
					shift_luminance($("#customize-control-footer_2_color .color-picker-hex").wpColorPicker("color"),45,'high_contrast'),
				'footer_2_advanced_link_color':
					$("#customize-control-body_link_color .color-picker-hex").wpColorPicker("color"),
				'footer_3_background_color':
					$("#customize-control-footer_3_color .color-picker-hex").wpColorPicker("color"),
				'footer_3_text_color':
					shift_luminance($("#customize-control-footer_3_color .color-picker-hex").wpColorPicker("color"),35,'high_contrast'),
				'footer_3_headline_color':
					shift_luminance($("#customize-control-footer_3_color .color-picker-hex").wpColorPicker("color"),45,'high_contrast'),
				'footer_3_advanced_link_color':
					$("#customize-control-body_link_color .color-picker-hex").wpColorPicker("color")
			}
			hide_stuff('show', advanced_color_sections, "section");
			change_colors(colors);
		} else {
			hide_stuff('hide', advanced_color_sections, "section");
		}
	});
	
	/*
	 *  Function to show or hide an array of controls
	 */
	function hide_stuff (sh, elements, cs) {
		for(key in elements) {
			if(sh == "show") {
				$("#customize-" + cs + "-" + key).show();
			} else {
				$("#customize-" + cs + "-" + key).hide();
			}
		}
	}
	
	/*
	 *  Function to change the advanced colors to match
	 *  the basic calculated custom colors
	 */
	function change_colors(elements){
		for(key in elements){
			$("#customize-control-" + key + " .color-picker-hex").wpColorPicker("color", elements[key]);
		}
	}
	 
	/*
	 *  Shift the luminance of a color
	 */
	function shift_luminance (color, shift, direction) {
		var RGB = new Array(
			parseInt(color.substring(1,3), 16),
			parseInt(color.substring(3,5), 16),
			parseInt(color.substring(5,7), 16)
		);
		var lum = luminance(RGB);
		switch(direction){
			case "high_contrast":
				if(lum < 50){
					return ("#" + array2color(dec2hex(an_shift_luminance(RGB, -(shift/100)))));
				} else {
					return ("#" + array2color(dec2hex(an_shift_luminance(RGB, (shift/100)))));
				}
				break;
			case "lighter":
				return ("#" + array2color(dec2hex(an_shift_luminance(RGB, -(shift/100)))));
				break;
			case "darker":
				return ("#" + array2color(dec2hex(an_shift_luminance(RGB, (shift/100)))));
				break;
		}
	}
	 
	function an_shift_luminance(RGB, shift){
		if(shift < 0){
			RGB[0] = Math.round(RGB[0] - ((255 - RGB[0]) * shift));
			RGB[1] = Math.round(RGB[1] - ((255 - RGB[1]) * shift));
			RGB[2] = Math.round(RGB[2] - ((255 - RGB[2]) * shift));
			return RGB;
		} else {
			RGB[0] = Math.round(RGB[0] * (1 - shift));
			RGB[1] = Math.round(RGB[1] * (1 - shift));
			RGB[2] = Math.round(RGB[2] * (1 - shift));
			return RGB;
		}
	}
	 
	function dec2hex(RGB){
		for(i=0; i<3; i++){
			RGB[i] = RGB[i].toString(16);
			if(RGB[i].length == 1){
				RGB[i] = '0' + RGB[i];
			}
		}
		return RGB;
	}
	 
	function array2color(RGB){
		return (RGB[0] + RGB[1] + RGB[2]);
	}
	 
	function luminance (RGB) {
		var lum = ((.299 * RGB[0]) + (.587 * RGB[1]) + (.114 * RGB[2])) / 2.55;
		return lum;
	}
} )( jQuery );